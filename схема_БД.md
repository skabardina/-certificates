<h1>Проектирование БД</h1>

БД должна содержать информацию о сотрудниках компании, заявках на справки и их черновиках.

<h3>Сущности</h3>

*Пользователи*  (данные для аутентификации)
- id (primary key, unique) - уникальный идентификатор сотрудника
- роль
- логин
- хэш пароля
- дата создания
  
*Сотрудник* (данные о пользователях системы)
- id (primary key, unique) - уникальный идентификатор сотрудника
- id пользователя (foreign key)
- полное имя
- табельный номер
- подразделение
- должность
- дата приема на работу
- дата увольнения
  
*Справки* (информация о типах справок, доступных к заказу)
- id (primary key, unique) - уникальный идентификатор типа справки
- название справки
- описание
- требования к оформлению
- формируется ли автоматически

*Заявки* (заявки на справки)
- id (primary key, unique) - уникальный идентификатор заявки
- id сотрудника, заказавшего справку (foreign key)
- id типа справки (foreign key)
- статус заявки
- комментарий
- дата создания заявки
- дата последнего изменения

*Файлы справок* (информация о сформированных справках)
- id (primary key, unique) - уникальный идентификатор файла
- id заявки (foreign key)
- ссылка на файл
- дата загрузки

*Черновик* (информация о сохраненных, но не отправленных заявках)
- id (primary key, unique) - уникальный идентификатор черновика
- id сотрудника, заказавшего справку (foreign key)
- id типа справки (foreign key)
- комментарий
- дата сохранения

*Уведомления* (история уведомлений, отправленных сотрудникам)
- id (primary key, unique) - уникальный идентификатор уведомления
- id сотрудника, заказавшего справку (foreign key)
- id заявки (foreign key) (если связано с заявкой)
- текст уведомления

*История изменения заявок* (история изменения статусов заявок)
- id (primary key, unique) - уникальный идентификатор записи
- id заявки (foreign key)
- новый статус
- кто изменил
- дата изменения

***ER-диаграмма***
![image](https://github.com/skabardina/-certificates/blob/main/ER-diagram.png)

<h3>Анализ задач и круга пользователей</h3>

***Администратор***

Основые задачи:
- управление пользователями и сотрудниками
- выдача прав доступа
- управление типами справок
- доступ ко всей истории изменений
- получение информации о справках, файлах, заявках, черновиках
- управление уведомлениями

***Сотрудник***

Основые задачи:
- создание новых заявок на справку
- сохранение черновиков
- получение списков всех черновиков и заявок персонально
- получение файлов, связанных с заявками
- получение уведомлений о статусе заявки

***Бухгалтер (HR)***

Основые задачи:
- обработка заявок на справки
- генерация справок для сотрудников
- упраление файлами справок (загрузка, удаление)
- просмотр заявок сотрудников и изменение их статусов
- просмотр истории измененний заявок
- отправка уведомлений о готовности справок 
- сохранение черновиков
- получение списков всех черновиков и заявок персонально
- получение файлов, связанных с заявками
- получение уведомлений о статусе заявки

<h3>Выбор СУБД</h3>

Исходя из требований к целостности и согласованности данных, а так же наличия четко определенных связей между сущностями, целесообразно использовать реляционную БД. Данный подход обеспечивает поддержку транзакций, а также удобную работу с запросами. Кроме того реляционная модель позволяет эффективно управлять изменениями структуры данных, обеспечивая надежность и предсказуемость при расширении функциональности системы. Таким образом, физическое проектирование будет выполнено с использованием СУБД PostgeSQL версии 17.4

